(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},21:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(7),c=t.n(r),i=(t(13),t(3)),u=(t(14),t(2));t(19);u.initializeApp({apiKey:"AIzaSyAtaxChdsXsafnwlDz8L5qbyKopnKMCrno",authDomain:"memlang.firebaseapp.com",databaseURL:"https://memlang.firebaseio.com",projectId:"memlang",storageBucket:"",messagingSenderId:"1041692358779",appId:"1:1041692358779:web:1e84cc9b3cf01527"});var l=new u.auth.GoogleAuthProvider,s=function(e){var n=e.user,t=n.name,a=n.photo;return o.a.createElement("div",{style:{lineHeight:"30px"}},o.a.createElement("img",{src:a,alt:t,style:{width:"30px",height:"30px",borderRadius:"15px",verticalAlign:"middle"}})," ",o.a.createElement("span",{style:{verticalAlign:"middle"}},t)," ",o.a.createElement("button",{style:{verticalAlign:"middle"},onClick:function(){return u.auth().signOut().then(function(){console.log("Successful sign out")}).catch(function(e){console.log(e)})}},"Logout"))},h=function(e){var n=e.user,t=e.dispatch;return o.a.createElement("div",null,n.signIn?o.a.createElement(s,{user:n,dispatch:t}):o.a.createElement("button",{onClick:function(){return u.auth().signInWithPopup(l).then(function(e){if(e.credential){var n=e.credential.accessToken,t=e.user;if(console.log("signInWithPopup",n,t),t)return t.displayName}}).catch(function(e){var n=e.code,t=e.message,a=e.email,o=e.credential;console.log(n,t,a,o)})}},"Login"))},m=t(5);function d(e,n){switch(n.type){case"login":return function(e,n){var t=n.user,a=t.name,o=t.photo,r=t.token;return Object(m.a)({},e,{user:{signIn:!0,name:a,photo:o,token:r}})}(e,n);case"logout":return Object(m.a)({},e,{user:{signIn:!1,name:"",photo:"",token:""}});default:return e}}var p="https://us-central1-memlang.cloudfunctions.net";var g=function(e){var n=e.authToken,t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],u=r[1],l=Object(a.useState)([]),s=Object(i.a)(l,2),h=s[0],m=s[1],d=function(){c.length>2&&c.length<100&&function(e,n){return fetch("".concat(p,"/translate/").concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return e.json()})}(c,n).then(function(e){return m(e)})};return o.a.createElement("div",null,o.a.createElement("h1",null,"Translator"),o.a.createElement("div",null,"Source text:"," ",o.a.createElement("input",{type:"text",value:c,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){13===e.which&&d()}})," ",o.a.createElement("button",{onClick:d},"Go")),h.length>0&&o.a.createElement("div",null,o.a.createElement("h3",null,"Translations:"),o.a.createElement("ul",null,h.map(function(e,n){return o.a.createElement("li",{key:n},e)}))))},f={user:{signIn:!1,name:"",photo:"",token:""}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(function(){var e=Object(a.useReducer)(d,f),n=Object(i.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)(function(){!function(e){u.auth().onAuthStateChanged(function(n){if(n){var t=n.displayName,a=n.photoURL;n.getIdToken().then(function(n){e({type:"login",user:{name:t||"anon",photo:a||"",token:n}})})}else e({type:"logout"})})}(r)},[]),o.a.createElement("div",{className:"App"},o.a.createElement(h,{dispatch:r,user:t.user}),t.user.signIn&&o.a.createElement(g,{authToken:t.user.token}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,n,t){e.exports=t(21)}},[[8,1,2]]]);
//# sourceMappingURL=main.e677872c.chunk.js.map